(()=>{"use strict";var t={2897:(t,e,a)=>{var s=a(6369),i=function(){var t=this,e=t._self._c;return e("v-app",{attrs:{id:"app"}},[e("AppDrawer"),e("AppLogo"),e("v-main",{attrs:{app:""}},[t.loading?t._e():e("router-view")],1),e("AppFooter")],1)},r=[],o=function(){var t=this,e=t._self._c;return e("v-footer",{staticClass:"py-2 my-2"},[e("footer",{staticClass:"mx-auto"},[e("ul",{staticClass:"nav justify-content-center"},[t._l(t.router_links,(function(a){return e("li",{key:a.url,staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:a.url}},[t._v(" "+t._s(a.name)+" ")])],1)})),t.user?e("li",[e("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/logout/"}},[t._v(" Logout ")])],1):t._e(),t.user?t._e():e("li",[e("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/login/"}},[t._v(" Login ")])],1),t.user?t._e():e("li",[e("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/registration/"}},[t._v(" Registration ")])],1),e("li",{staticClass:"nav-item"},[e("AppLanguageSwitcher")],1)],2),e("div",[this.$store.state.theme.theme.hide_api_links?t._e():e("v-divider"),this.$store.state.theme.theme.hide_api_links?t._e():e("ul",{staticClass:"nav justify-content-center"},t._l(t.api_links,(function(a){return e("li",{key:a.url,staticClass:"nav-item"},[e("a",{staticClass:"nav-link px-2 text-muted",attrs:{href:a.url}},[t._v(" "+t._s(a.name)+" ")])])})),0)],1),e("v-divider"),e("p",{staticClass:"text-center text-muted"},[t._v("© "+t._s(t.year)+" 0djentd")])],1)])},n=[];const l="/api/",u={dark:!0,hide_appbar:!0,hide_api_links:!1},c=[{requires_authentication:!1,no_auth:!0,url:"/",name:"Home",icon:"home"},{requires_authentication:!1,no_auth:!1,url:"/welcome/",name:"Welcome",icon:"help"},{requires_authentication:!0,no_auth:!1,url:"/habits/",name:"Habits",icon:"home"},{requires_authentication:!0,no_auth:!1,url:"/settings/",name:"Settings",icon:"settings"},{requires_authentication:!1,no_auth:!1,url:"/about/",name:"About",icon:"info"}],d=[{url:"https://github.com/0djentd/alprou",name:"Source code"},{url:"/docs/redoc/",name:"API docs (1)"},{url:"/docs/swagger/",name:"API docs (2)"},{url:"/api/habits/",name:"habits"},{url:"/api/profiles/",name:"profiles"},{url:"/api/users/",name:"users"},{url:"/api/days/",name:"days"}];var h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lang btn-group"},[t._m(0),e("ul",{staticClass:"dropdown-menu"},t._l(t.$i18n.availableLocales,(function(a){return e("li",{key:`locale-${a}`,attrs:{value:a}},[e("a",{staticClass:"btn w-100",on:{click:function(e){return e.preventDefault(),t.switchLanguage(a)}}},[t._v(" "+t._s(a)+" ")])])})),0)])},v=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn btn-outline",attrs:{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("span",{staticClass:"material-symbols-outlined"},[t._v(" language ")])])}];const p={methods:{switchLanguage(t){this.$i18n.locale=t}}},m=p;var g=a(1001),f=(0,g.Z)(m,h,v,!1,null,"d960c744",null);const b=f.exports,_={data(){return{year:2022,router_links:c,api_links:d}},computed:{user(){return this.$store.state.authorization.user},profile(){return this.$store.state.authorization.profile}},components:{AppLanguageSwitcher:b}},k=_;var x=(0,g.Z)(k,o,n,!1,null,"2a790485",null);const $=x.exports;var w=function(){var t=this,e=t._self._c;return e("div",[e("v-navigation-drawer",{staticClass:"drawer-menu",attrs:{floating:"",permanent:""}},[e("v-btn",{on:{click:function(e){t.drawer=!0},mouseover:function(e){t.drawer=!0}}},[e("span",[t._v("Menu   ")]),e("span",{staticClass:"material-symbols-outlined"},[t._v(" menu ")])])],1),t.drawer?e("v-overlay",{attrs:{value:"drawer","z-index":"1"},on:{click:function(e){t.drawer=!1},mouseover:function(e){t.drawer=!1}}}):t._e(),t.drawer?e("v-navigation-drawer",{attrs:{"z-index":"2","mini-variant":t.mini,floating:"",permanent:"",absolute:""},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}}},[t.authenticated?e("v-list-item",{attrs:{to:"/settings/"}},[e("v-list-item-content",[e("v-list-item-title",[t._v("Profile:")]),e("v-list-item-subtitle",[t._v(" "+t._s(t.user.username))])],1)],1):e("v-list-item",{attrs:{to:"/welcome/"}},[e("v-list-item-content",[e("v-list-item-title",[t._v("Welcome!")]),e("v-list-item-subtitle",[t._v("Please login or create an account.")])],1)],1),e("v-divider"),e("v-list",{attrs:{dense:""}},[t._l(t.router_links,(function(a){return e("div",{key:a.id},[!a.no_auth&&!t.authenticated||t.authenticated?e("v-list-item",{attrs:{to:a.url,link:"",disabled:a.requires_authentication&&!t.authenticated}},[e("v-list-item-icon",[e("span",{staticClass:"material-symbols-outlined"},[t._v(" "+t._s(a.icon)+" ")])]),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(a.name))])],1)],1):t._e()],1)})),t.authenticated?e("v-list-item",{attrs:{to:"/logout/",link:""}},[e("v-list-item-icon",[e("span",{staticClass:"material-symbols-outlined"},[t._v(" logout ")])]),e("v-list-item-content",[e("v-list-item-title",[t._v("Logout")])],1)],1):t._e(),t.authenticated?t._e():e("v-list-item",{attrs:{to:"/login/",link:""}},[e("v-list-item-icon",[e("span",{staticClass:"material-symbols-outlined"},[t._v(" login ")])]),e("v-list-item-content",[e("v-list-item-title",[t._v("Login")])],1)],1),t.authenticated?t._e():e("v-list-item",{attrs:{to:"/registration/",link:""}},[e("v-list-item-icon",[e("span",{staticClass:"material-symbols-outlined"},[t._v(" manage_accounts ")])]),e("v-list-item-content",[e("v-list-item-title",[t._v("Registration")])],1)],1)],2)],1):t._e()],1)},y=[];const C={data(){return{drawer:!1,mini:!1,router_links:c}},computed:{user(){return this.$store.state.authorization.user},profile(){return this.$store.state.authorization.profile},authenticated(){return this.$store.getters.authenticated}}},A=C;var T=(0,g.Z)(A,w,y,!1,null,"39d76467",null);const S=T.exports;var P=function(){var t=this,e=t._self._c;return e("div",{class:{"app-logo":!0,"logo-theme-dark":this.$vuetify.theme.dark&&this.outline,"logo-theme-light":!this.$vuetify.theme.dark&&this.outline}},[e("a",{on:{click:t.link}},[e("div",[e("h4",[t._v("Alprou")]),e("v-divider")],1),e("p",[t._v(t._s(t.$t("logo.description_short")))])]),e("v-divider")],1)},z=[];const Z={props:{url:{type:String,required:!1,default:"/"},outline:{type:Boolean,required:!1,defalut:!1}},methods:{link(){this.$router.push(this.url)}}},L=Z;var H=(0,g.Z)(L,P,z,!1,null,"745313ad",null);const O=H.exports,D={data(){return{}},components:{AppFooter:$,AppDrawer:S,AppLogo:O},computed:{loading(){return this.$store.state.authorization.loading}},async beforeCreate(){this.$store.dispatch("relogin"),this.$store.commit("loadTheme"),this.$vuetify.theme.dark=this.$store.state.theme.theme.dark}},q=D;var E=(0,g.Z)(q,i,r,!1,null,null,null);const I=E.exports;var j=a(5431);(0,j.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var N=function(){var t=this,e=t._self._c;return e("div")},U=[],R={},F=(0,g.Z)(R,N,U,!1,null,null,null);const M=F.exports;var G=function(){var t=this,e=t._self._c;return e("v-container",[t.url?e("HabitsContainer",{attrs:{url:t.url}}):t._e()],1)},B=[],J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"habits-container"},[t.loaded?e("div",{staticClass:"d-flex flex-wrap"},[t._l(t.habits.filter((t=>!t.completed_today)),(function(t){return e("HabitComponent",{key:t.id,attrs:{url:t.url}})})),t._l(t.habits.filter((t=>t.completed_today)),(function(t){return e("HabitComponent",{key:t.id,attrs:{url:t.url}})})),e("NewHabitComponent")],2):e("div",{staticClass:"d-flex flex-wrap"},[e("v-skeleton-loader")],1)])},W=[],X=a(6265),V=a.n(X),Y=function(){var t=this,e=t._self._c;return e("div",[t.removed?t._e():e("div",[e("v-sheet",{staticClass:"rounded-pill m-1",attrs:{elevation:"2",outlined:""}},[e("div",[e("v-btn",{attrs:{disabled:t.habit.completed_today,rounded:"",text:""},on:{click:function(e){return t.done()}}},[t._v(t._s(t.habit.name))]),e("v-btn",{attrs:{rounded:""},on:{click:function(e){t.expanded=!0}}},[e("div",{staticClass:"material-symbols-outlined"},[t._v("more_horiz")])])],1)]),t.expanded?e("div",[e("v-navigation-drawer",{staticClass:"habit-component-expanded",attrs:{right:"",permanent:"",absolute:""}},[e("v-card",[e("v-card-title",[t._v(t._s(t.$t("editor.editing"))+" '"+t._s(t.habit.name)+"'")]),e("v-card-subtitle",[t._v("API url: "),e("a",{attrs:{href:t.habit.url}},[t._v(t._s(t.habit.url))])]),e("v-form",[e("v-card-text",[e("v-text-field",{attrs:{counter:200,label:t.$t("editor.name"),autofocus:"",required:""},model:{value:t.habit.name,callback:function(e){t.$set(t.habit,"name",e)},expression:"habit.name"}}),e("v-textarea",{attrs:{counter:2e3,label:t.$t("editor.description"),outlined:""},model:{value:t.habit.description,callback:function(e){t.$set(t.habit,"description",e)},expression:"habit.description"}}),e("v-text-field",{attrs:{counter:2e3,label:t.$t("editor.tags"),dense:"",outlined:""},model:{value:t.habit.tags,callback:function(e){t.$set(t.habit,"tags",e)},expression:"habit.tags"}}),e("div",{staticClass:"settings-row"},[e("v-checkbox",{attrs:{label:t.$t("editor.active")},model:{value:t.habit.active,callback:function(e){t.$set(t.habit,"active",e)},expression:"habit.active"}}),e("v-checkbox",{attrs:{label:t.$t("editor.negative")},model:{value:t.habit.negative,callback:function(e){t.$set(t.habit,"negative",e)},expression:"habit.negative"}}),e("v-checkbox",{attrs:{label:t.$t("editor.private")},model:{value:t.habit.private,callback:function(e){t.$set(t.habit,"private",e)},expression:"habit.private"}})],1),e("p",[t._v(t._s(t.$t("editor.created"))+" "+t._s(t.habit.created))]),e("p",[t._v(t._s(t.$t("editor.modified"))+" "+t._s(t.habit.modified))])],1),e("v-card-actions",[e("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.patch()}}},[t._v(" "+t._s(t.$t("editor.patch"))+" ")]),e("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.remove()}}},[t._v(" "+t._s(t.$t("editor.remove"))+" ")]),e("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){t.expanded=!1}}},[t._v(" "+t._s(t.$t("editor.back"))+" ")])],1)],1)],1)],1),t.expanded?e("v-overlay",{staticClass:"habit-component-expanded-overlay",attrs:{value:"expanded","z-index":"0"},on:{click:function(e){t.expanded=!1}}}):t._e()],1):t._e()],1),e("v-snackbar",{attrs:{timeout:"1500"},model:{value:t.message.show,callback:function(e){t.$set(t.message,"show",e)},expression:"message.show"}},[t._v(" "+t._s(t.message.text)+" "+t._s(t.habit.name)+" ")])],1)},K=[];const Q={name:"HabitComponent",props:{url:{type:String,required:!0}},data(){return{habit:{user:"",name:"",description:"",completed_today:!1},expanded:!1,removed:!1,loading:!0,message:{show:!1,text:""}}},methods:{async done(){1!=this.habit.completed_today&&await V()({url:this.habit.url+"done/",method:"PATCH",data:{},headers:{Authorization:this.$store.getters.token_str}}).then((t=>{console.log(t),this.fetchData(),this.message={show:!0,text:"Completed"}})).catch((t=>{console.error(t)}))},async remove(){this.removed=!0,await V()({url:this.habit.url,method:"DELETE",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{console.log(t),this.message={show:!0,text:"Removed"}}))},async patch(){const t=this.habit;await V()({url:this.habit.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:t}).then((t=>{console.log(t),this.message={show:!0,text:"Saved"}})),this.expanded=!1,await this.fetchData()},async fetchData(){this.loading=!0,await V()({url:this.url,method:"GET",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{this.habit=t.data})),this.loading=!1,""==this.habit.tags&&(this.habit.tags="[]")}},mounted(){this.fetchData()}},tt=Q;var et=(0,g.Z)(tt,Y,K,!1,null,"47f89cb0",null);const at=et.exports;var st=function(){var t=this,e=t._self._c;return e("div",[t.editing?e("div",[e("v-navigation-drawer",{staticClass:"habit-component-expanded",attrs:{right:"",permanent:"",absolute:""}},[e("v-card",[e("v-card-title",[t._v(t._s(t.$t("editor.new")))]),e("v-card-text",[t.errors?e("v-alert",[t._v(t._s(t.errors))]):t._e(),e("v-text-field",{attrs:{counter:200,label:t.$t("editor.name"),autofocus:"",required:""},model:{value:t.habit.name,callback:function(e){t.$set(t.habit,"name",e)},expression:"habit.name"}}),e("v-textarea",{attrs:{counter:2e3,label:t.$t("editor.description"),outlined:""},model:{value:t.habit.description,callback:function(e){t.$set(t.habit,"description",e)},expression:"habit.description"}}),e("v-text-field",{attrs:{counter:2e3,label:t.$t("editor.tags"),dense:"",outlined:""},model:{value:t.habit.tags,callback:function(e){t.$set(t.habit,"tags",e)},expression:"habit.tags"}}),e("div",{staticClass:"settings-row"},[e("v-checkbox",{attrs:{label:t.$t("editor.active")},model:{value:t.habit.active,callback:function(e){t.$set(t.habit,"active",e)},expression:"habit.active"}}),e("v-checkbox",{attrs:{label:t.$t("editor.negative")},model:{value:t.habit.negative,callback:function(e){t.$set(t.habit,"negative",e)},expression:"habit.negative"}}),e("v-checkbox",{attrs:{label:t.$t("editor.private")},model:{value:t.habit.private,callback:function(e){t.$set(t.habit,"private",e)},expression:"habit.private"}})],1)],1),e("v-card-actions",[e("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.put()}}},[t._v(" "+t._s(t.$t("editor.create")))]),e("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.reset()}}},[t._v(t._s(t.$t("editor.back")))])],1)],1)],1),t.editing?e("v-overlay",{attrs:{value:"editing","z-index":"1"},on:{click:function(e){t.editing=!1}}}):t._e()],1):t._e(),e("v-sheet",{staticClass:"rounded-pill m-1",attrs:{elevation:"2",outlined:""}},[e("v-btn",{attrs:{rounded:"",text:""},on:{click:function(e){t.editing=!0}}},[e("span",{staticClass:"material-symbols-outlined"},[t._v(" add ")])])],1)],1)},it=[];const rt={name:"NewHabitComponent",data(){return{habit:{name:"",description:"",active:!0,negative:!1,public:!1,tags:""},errors:null,editing:!1}},methods:{async put(){const t=this.habit;await V()({url:l+"habits/",method:"POST",headers:{Authorization:this.$store.getters.token_str},data:t}).then((t=>{this.reset(),this.editing=!1,console.log(t)})).catch((t=>{console.log(t),this.errors=t.response.data}))},reset(){this.habit={name:"",description:"",active:!0,negative:!1,public:!1,tags:""},this.errors=null,this.editing=!1}}},ot=rt;var nt=(0,g.Z)(ot,st,it,!1,null,"da37ab28",null);const lt=nt.exports,ut={name:"HabitsContainer",components:{HabitComponent:at,NewHabitComponent:lt},props:{url:{type:String,required:!0},label:{type:String,required:!1}},data(){return{habits:[],loaded:!1}},async mounted(){V()({url:this.url,method:"GET",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{this.habits=t.data.results,this.loaded=!0})).catch((t=>{console.error(t)}))}},ct=ut;var dt=(0,g.Z)(ct,J,W,!1,null,"531e5e52",null);const ht=dt.exports,vt={components:{HabitsContainer:ht},computed:{url(){const t=this.$store.state.authorization.user;if(t){const e=l+"habits/?user="+t.id+"&active=true";return e}return null}}},pt=vt;var mt=(0,g.Z)(pt,G,B,!1,null,null,null);const gt=mt.exports;var ft=function(){var t=this,e=t._self._c;return e("div")},bt=[];const _t={async mounted(){const t=this.$store.getters.authenticated;t?this.$router.push("/habits/"):this.$router.push("/welcome/")}},kt=_t;var xt=(0,g.Z)(kt,ft,bt,!1,null,null,null);const $t=xt.exports;var wt=function(){var t=this,e=t._self._c;return e("v-container",[e("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300px",rounded:""}},[e("v-card-title",[t._v(t._s(t.$t("pages.login.text.title")))]),e("v-card-subtitle",[t._v(t._s(t.$t("pages.login.text.subtitle.1"))+" "),e("router-link",{attrs:{to:"/registration"}},[t._v(t._s(t.$t("pages.login.text.subtitle.2")))])],1),e("v-card-text",[e("form",{attrs:{action:"submit"},on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("v-text-field",{attrs:{id:"username",placeholder:t.$t("pages.login.text.form.username")},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("v-text-field",{attrs:{type:"password",id:"password",placeholder:t.$t("pages.login.text.form.password")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("v-btn",{attrs:{rounded:"",outlined:"",text:"",action:"",method:""},on:{click:t.login}},[t._v(" "+t._s(t.$t("pages.login.text.form.button"))+" ")])],1)])],1)],1)},yt=[];const Ct={data(){return{username:"",password:"",remember:!1}},methods:{async login(){this.$store.dispatch("login",{username:this.username,password:this.password})}},mounted(){this.$store.getters.authenticated&&this.$router.push("/")}},At=Ct;var Tt=(0,g.Z)(At,wt,yt,!1,null,null,null);const St=Tt.exports;var Pt=function(){var t=this,e=t._self._c;return e("div")},zt=[];const Zt={mounted(){this.$store.dispatch("logout")}},Lt=Zt;var Ht=(0,g.Z)(Lt,Pt,zt,!1,null,null,null);const Ot=Ht.exports;var Dt=function(){var t=this,e=t._self._c;return e("v-container",[e("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500px",rounded:""}},[e("v-card-title",[t._v(t._s(t.$t("pages.registration.title")))]),e("v-card-subtitle",[t._v(t._s(t.$t("pages.registration.or.text"))),e("router-link",{attrs:{to:"/registration"}},[t._v(t._s(t.$t("pages.registration.or.link")))])],1),e("v-card-text",[t.errors?e("v-alert",[t._v(t._s(t.errors))]):t._e(),e("form",{attrs:{action:""}},[e("v-text-field",{attrs:{id:"username",placeholder:t.$t("pages.registration.form.username"),dense:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("v-text-field",{attrs:{id:"email",placeholder:t.$t("pages.registration.form.email"),dense:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e("div",{staticClass:"settings-row d-flex"},[e("v-text-field",{attrs:{type:"password",id:"password",placeholder:t.$t("pages.registration.form.password_1"),dense:"",outlined:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("v-text-field",{attrs:{type:"password",id:"password",placeholder:t.$t("pages.registration.form.password_2"),dense:"",outlined:""},model:{value:t.password_2,callback:function(e){t.password_2=e},expression:"password_2"}})],1),e("v-card-actions",[e("v-btn",{attrs:{rounded:"",outlined:"",text:"",action:"",method:""},on:{click:function(e){return e.preventDefault(),t.registration()}}},[t._v(" "+t._s(t.$t("pages.registration.form.button"))+" ")])],1)],1)],1)],1)],1)},qt=[];function Et(t){const e=decodeURIComponent(document.cookie),a=e.split("; ");let s;return a.forEach((e=>{0===e.indexOf(t+"=")&&(s=e.substring(t.length+1))})),s}function It(t){return null==t||"null"==t?null:"Token "+t}const jt={state:{loading:!0,token:null,user:null,profile:null},mutations:{saveToken(t,e){t.token=e,localStorage.setItem("token",e)},saveUser(t,e){t.user=e},saveProfile(t,e){t.profile=e},saveLoading(t,e){t.loading=e}},getters:{authenticated(t){const e=Boolean(t.token&&t.user&&t.profile);return console.log("Checking authentication, result: "+e),e},token_str(t){return It(t.token)}},actions:{async login({dispatch:t,commit:e},a){let s=null;console.log("Trying to login as "+a.username);const i=await V()({url:l+"authtoken/",method:"POST",data:a,headers:{"X-CSRFToken":Et("csrftoken")}}).then((t=>t.data.token)).catch((t=>(s=t,console.error(t),null)));if(null==i)return console.error("Login failed"),console.error(s),void e("saveToken",null);t("fetchData",i),window.location.href="/"},async relogin({commit:t,dispatch:e}){const a=localStorage.getItem("token");"null"!=a&&null!=a?e("fetchData",a):t("saveLoading",!1)},async logout({commit:t}){t("saveToken",null),t("saveUser",null),t("saveProfile",null),localStorage.setItem("token",null),window.location.href="/"},async fetchData({commit:t},e){t("saveToken",e),t("saveLoading",!0);const a=await V()({url:l+"profiles/active/",method:"GET",headers:{Authorization:It(e)}}).then((t=>t.data)).catch((t=>console.error(t)));t("saveProfile",a);const s=await V()({url:l+"users/active/",method:"GET",headers:{Authorization:It(e)}}).then((t=>t.data)).catch((t=>{console.error(t)}));t("saveUser",s),t("saveLoading",!1)}}},Nt={data(){return{username:"",password:"",password_2:"",email:"",errors:null}},methods:{registration(){let t=null,e={username:this.username,password:this.password,email:this.email};V()({url:l+"register/",method:"POST",data:e,headers:{"X-CSRFToken":Et("csrftoken")}}).then((t=>t.data)).catch((e=>{t=e})),t?(this.errors=t.response.data,console.error(t)):window.location.href="/"}},mounted(){this.$store.getters.authenticated&&this.$router.push("/")}},Ut=Nt;var Rt=(0,g.Z)(Ut,Dt,qt,!1,null,null,null);const Ft=Rt.exports;var Mt=function(){var t=this,e=t._self._c;return e("v-container",[e("div",{staticClass:"settings"},[e("v-card",{staticClass:"settings-profile"},[e("ProfileEditor")],1),e("v-card",{staticClass:"settings-theme"},[e("ThemeEditor")],1)],1)])},Gt=[],Bt=function(){var t=this,e=t._self._c;return e("div",[e("v-card-title",[t._v("Profile")]),e("v-card-subtitle",[t._v("Change profile settings")]),e("v-card-text",[t.loading?e("v-skeleton-loader",{attrs:{type:"card"}}):e("div",[e("v-text-field",{attrs:{label:"Username",clearable:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),e("v-text-field",{attrs:{value:t.profile.url,label:"Profile url",clearable:"",disabled:""}}),e("v-text-field",{attrs:{label:"Public username",clearable:""},model:{value:t.profile.public_username,callback:function(e){t.$set(t.profile,"public_username",e)},expression:"profile.public_username"}}),e("v-checkbox",{attrs:{label:"Private profile"},model:{value:t.profile.private,callback:function(e){t.$set(t.profile,"private",e)},expression:"profile.private"}}),e("v-card-actions",[e("v-btn",{attrs:{rounded:"",outlined:"",text:""},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1)},Jt=[];const Wt={data(){return{profile:null,user:null,loading:!0,errors:[]}},methods:{async fetchData(){this.profile=this.$store.state.authorization.profile,this.user=this.$store.state.authorization.user,this.loading=!1},async save(){await V()({url:this.user.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:this.user}),await V()({url:this.profile.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:this.profile}),this.fetchData()}},beforeMount(){this.fetchData()}},Xt=Wt;var Vt=(0,g.Z)(Xt,Bt,Jt,!1,null,null,null);const Yt=Vt.exports;var Kt=function(){var t=this,e=t._self._c;return e("div",[e("v-card-title",[t._v("Theme")]),e("v-card-subtitle",[t._v("Change UI settings")]),e("v-card-text",[e("div",[e("v-checkbox",{attrs:{label:"Dark"},model:{value:t.$store.state.theme.theme.dark,callback:function(e){t.$set(t.$store.state.theme.theme,"dark",e)},expression:"$store.state.theme.theme.dark"}}),e("v-checkbox",{attrs:{disabled:"",label:"Hide appbar"},model:{value:t.$store.state.theme.theme.hide_appbar,callback:function(e){t.$set(t.$store.state.theme.theme,"hide_appbar",e)},expression:"$store.state.theme.theme.hide_appbar"}}),e("v-checkbox",{attrs:{label:"Hide API links"},model:{value:t.$store.state.theme.theme.hide_api_links,callback:function(e){t.$set(t.$store.state.theme.theme,"hide_api_links",e)},expression:"$store.state.theme.theme.hide_api_links"}})],1)]),e("v-card-actions",[e("v-btn",{attrs:{rounded:"",text:"",outlined:""},on:{click:function(e){return t.save_theme()}}},[t._v("Save")]),e("v-btn",{attrs:{rounded:"",text:"",outlined:""},on:{click:function(e){return t.reset_theme()}}},[t._v("Reset")])],1)],1)},Qt=[];const te={methods:{reset_theme(){this.$store.commit("resetTheme"),this.reload_required()},save_theme(){this.$store.commit("saveTheme"),this.reload_required()},load_theme(){this.$store.commit("loadTheme"),this.reload_required()},reload_required(){this.$vuetify.theme.dark=this.$store.state.theme.theme.dark}}},ee=te;var ae=(0,g.Z)(ee,Kt,Qt,!1,null,"218345c6",null);const se=ae.exports,ie={components:{ThemeEditor:se,ProfileEditor:Yt},mounted(){const t=this.$store.state.authorization.user;t||this.$router.push("/welcome/"),this.url=l+"habits/?user="+t.id+"&active=true"}},re=ie;var oe=(0,g.Z)(re,Mt,Gt,!1,null,"50b3450d",null);const ne=oe.exports;var le=function(){var t=this,e=t._self._c;return e("v-container",[e("div",{staticClass:"welcome d-flex flex-wrap flex-lg-nowrap"},[e("div",{staticClass:"welcome-info"},[e("v-card",[e("v-card-title",[t._v(t._s(t.$t("pages.about.text.info.title")))]),e("v-card-text",[e("p",[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.1"))+" "),e("router-link",{attrs:{to:"/login/"}},[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.2")))]),t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.3"))+" "),e("router-link",{attrs:{to:"/registration/"}},[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.4"))+" ")])],1),e("p"),e("p",[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.5"))+" "),e("a",{attrs:{href:"https://github.com/0djentd/"}},[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.6"))+" ")]),t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.7"))+" "),e("a",{attrs:{href:"/docs/swagger/"}},[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.8"))+" ")])])])],1)],1),e("div",{staticClass:"welcome-features"},[e("v-card",[e("v-card-title",[t._v(" "+t._s(t.$t("pages.about.text.features.title"))+" ")]),e("v-card-text",t._l(t.features,(function(a){return e("v-sheet",{key:a.id},[e("h5",[t._v(t._s(a.title))]),e("p",[t._v(t._s(a.description))]),a.img?e("v-img",{attrs:{src:a.img}}):t._e()],1)})),1)],1)],1),e("div",{staticClass:"welcome-screenshot"},[e("v-card",[e("v-card-title",[t._v(t._s(t.$t("pages.about.text.screenshots.title")))]),e("div",{staticClass:"screenshot-container"},[e("v-img",{staticClass:"screenshot",attrs:{src:"/screenshot_alprou.png"}})],1)],1)],1)])])},ue=[];const ce={data(){return{features:[{title:this.$t("pages.about.features.ui.title"),description:this.$t("pages.about.features.ui.description"),img:null},{title:this.$t("pages.about.features.languages.title"),description:this.$t("pages.about.features.languages.description"),img:null},{title:this.$t("pages.about.features.stats.title"),description:this.$t("pages.about.features.stats.description"),img:null},{title:this.$t("pages.about.features.profiles.title"),description:this.$t("pages.about.features.profiles.description"),img:null},{title:this.$t("pages.about.features.spa.title"),description:this.$t("pages.about.features.spa.description"),img:null},{title:this.$t("pages.about.features.themes.title"),description:this.$t("pages.about.features.themes.description"),img:null}]}}},de=ce;var he=(0,g.Z)(de,le,ue,!1,null,"6200a8cf",null);const ve=he.exports;var pe=a(2631);s["default"].use(pe.Z);const me=[{path:"/",name:"home",component:$t},{path:"/habits/",name:"habits",component:gt},{path:"/login/",name:"login",component:St},{path:"/logout/",name:"logout",component:Ot},{path:"/registration/",name:"registration",component:Ft},{path:"/settings/",name:"settings",component:ne},{path:"/about/",name:"about",component:M},{path:"/welcome/",name:"welcome",component:ve}],ge=new pe.Z({mode:"history",base:"/",routes:me}),fe=ge;var be=a(3822);const _e={state:{theme:u},mutations:{loadTheme(t){const e=JSON.parse(localStorage.getItem("settings-theme",u));e&&(t.theme=e)},saveTheme(t){const e=JSON.stringify(t.theme);console.log(e),localStorage.setItem("settings-theme",e)},resetTheme(t){const e=JSON.stringify(u);t.theme=e,localStorage.setItem("settings-theme",e)}}};s["default"].use(be.ZP);const ke=new be.ZP.Store({modules:{authorization:jt,theme:_e}});var xe=a(5996),$e=a(9425),we=(a(8937),a(7024),a(707)),ye=a.n(we);a(8556);s["default"].use(ye());const Ce=new(ye())({});a(2742);var Ae=a(6018);const Te={en:{logo:{description_short:"Minimalistic habits tracker."},editor:{editing:"Editing:",new:"Create new habit",name:"Name",description:"Description",tags:"Tags",active:"Active",negative:"Negative",private:"Private",created:"created:",modified:"modified:",create:"Save",patch:"Save",remove:"Remove",back:"back"},pages:{home:{title:"Home"},about:{title:"About",text:{info:{title:"Welcome!",subtitle:{1:"To use this app, please",2:"login",3:"or",4:"create an account.",5:"You can also take a look at the source code on my",6:"github,",7:"or learn more about",8:"Alprou's API."}},features:{title:"Features"},screenshots:{title:"Screenshots"}},features:{ui:{title:"Minimalistic UI",description:"Designed for mobile devices and desktop"},languages:{title:"Multiple languages",description:"App available in multiple languages."},stats:{title:"Stats",description:"Take a look at various statistics."},profiles:{title:"User profiles",description:"Settings like habits/profile visibility to other users."},spa:{title:"SPA",description:"No page reloads when using this app."},themes:{title:"Themes",description:"Change some UI settings."}}},habits:{title:"Habits"},logout:{title:"Logout"},login:{title:"Login",text:{title:"Login",subtitle:{1:"or register",2:"new profile"},form:{username:"Username",password:"Password",button:"Login"}}},registration:{title:"Registration",or:{text:"Already have an account? ",link:"Login"},form:{username:"Username",email:"Email",password_1:"Password",password_2:"Repeat password",button:"Create an account"}}}},ru:{logo:{description_short:"Минималистичный трекер привычек."},editor:{editing:"Редактировать привычку:",new:"Создать новую привычку",name:"Название",description:"Описание",tags:"Тэги",active:"Показывать на главной странице",negative:"Отрицательная",private:"Не отображать для других пользователей",created:"создано:",modified:"изменено:",create:"Создать",patch:"Сохранить",remove:"Удалить",back:"Назад"},pages:{home:{title:"Главная"},about:{title:"Инфо",text:{info:{title:"Добро пожаловать!",subtitle:{1:"Чтобы использовать этот сайт/приложение, пожалуйста",2:"войдите в уже существующий аккаунт",3:"или",4:"создайте новый.",5:"Вы также можете найти исходный код этого сайта на моем",6:"github,",7:"или посмотреть на",8:"документацию к API."}},features:{title:"Ключевой функционал"},screenshots:{title:"Скриншоты"}},features:{ui:{title:"Минималистичный интерфейс",description:"Разработан для мобильных устройств и браузера."},languages:{title:"Несколько языков",description:"Пользователь может выбрать язык, на котором будет отображаться сайт."},stats:{title:"Статистика",description:"У пользователя есть возможность просмотреть различную статистику по своим привычкам."},profiles:{title:"Профили",description:"Такие настройки, как видимость профиля другим пользователям."},spa:{title:"SPA",description:"No page reloads when using this app."},themes:{title:"Темы",description:"Возможность изменить настройки интерфейса."}}},habits:{title:"Привычки"},logout:{title:"Выйти"},login:{title:"Войти",text:{title:"Войти",subtitle:{1:"или зарегистрировать",2:"новый аккаунт"},form:{username:"Имя пользователя",password:"Пароль",button:"Войти"}}},registration:{title:"Зарегистрироваться",or:{text:"Уже есть аккаунт? ",link:"Войти"},form:{username:"Имя пользователя",email:"Email",password_1:"Пароль",password_2:"Повторите пароль",button:"Создать аккаунт"}}}}};s["default"].use(xe.XG7),s["default"].use($e.A7),s["default"].use(Ae.Z);const Se=new Ae.Z({locale:"ru",fallbackLocale:"en",messages:Te});s["default"].config.productionTip=!1,new s["default"]({router:fe,store:ke,i18n:Se,vuetify:Ce,render:t=>t(I)}).$mount("#app")}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,(()=>{var t=[];a.O=(e,s,i,r)=>{if(!s){var o=1/0;for(c=0;c<t.length;c++){for(var[s,i,r]=t[c],n=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((t=>a.O[t](s[l])))?s.splice(l--,1):(n=!1,r<o&&(o=r));if(n){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,i,r]}})(),(()=>{a.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return a.d(e,{a:e}),e}})(),(()=>{a.d=(t,e)=>{for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{a.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={143:0};a.O.j=e=>0===t[e];var e=(e,s)=>{var i,r,[o,n,l]=s,u=0;if(o.some((e=>0!==t[e]))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(l)var c=l(a)}for(e&&e(s);u<o.length;u++)r=o[u],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},s=globalThis["webpackChunkAlprou"]=globalThis["webpackChunkAlprou"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var s=a.O(void 0,[998],(()=>a(2897)));s=a.O(s)})();
//# sourceMappingURL=app.70e2b98c.js.map