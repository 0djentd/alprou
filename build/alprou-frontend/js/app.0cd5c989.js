(()=>{"use strict";var t={1907:(t,e,a)=>{var i=a(8935),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("AppDrawer"),a("AppLogo"),a("v-main",{attrs:{app:""}},[t.loading?t._e():a("router-view")],1),a("AppFooter")],1)},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticClass:"py-2 my-2"},[a("footer",{staticClass:"mx-auto"},[a("ul",{staticClass:"nav justify-content-center"},[t._l(t.router_links,(function(e){return a("li",{key:e.url,staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:e.url}},[t._v(" "+t._s(e.name)+" ")])],1)})),t.user?a("li",[a("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/logout/"}},[t._v(" Logout ")])],1):t._e(),t.user?t._e():a("li",[a("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/login/"}},[t._v(" Login ")])],1),t.user?t._e():a("li",[a("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/registration/"}},[t._v(" Registration ")])],1)],2),a("div",[this.$store.state.theme.theme.hide_api_links?t._e():a("v-divider"),this.$store.state.theme.theme.hide_api_links?t._e():a("ul",{staticClass:"nav justify-content-center"},t._l(t.api_links,(function(e){return a("li",{key:e.url,staticClass:"nav-item"},[a("a",{staticClass:"nav-link px-2 text-muted",attrs:{href:e.url}},[t._v(" "+t._s(e.name)+" ")])])})),0)],1),a("v-divider"),a("p",{staticClass:"text-center text-muted"},[t._v("© "+t._s(t.year)+" 0djentd")])],1)])},o=[];const l="/api/",c={dark:!0,hide_appbar:!0,hide_api_links:!1},u=[{requires_authentication:!1,no_auth:!0,url:"/",name:"Home",icon:"home"},{requires_authentication:!1,no_auth:!1,url:"/welcome/",name:"Welcome",icon:"help"},{requires_authentication:!0,no_auth:!1,url:"/habits/",name:"Habits",icon:"home"},{requires_authentication:!0,no_auth:!1,url:"/settings/",name:"Settings",icon:"settings"},{requires_authentication:!1,no_auth:!1,url:"/about/",name:"About",icon:"info"}],d=[{url:"https://github.com/0djentd/alprou",name:"Source code"},{url:"/docs/redoc/",name:"API docs (1)"},{url:"/docs/swagger/",name:"API docs (2)"},{url:"/api/habits/",name:"habits"},{url:"/api/profiles/",name:"profiles"},{url:"/api/users/",name:"users"},{url:"/api/days/",name:"days"}],h={data(){return{year:2022,router_links:u,api_links:d}},computed:{user(){return this.$store.state.authorization.user},profile(){return this.$store.state.authorization.profile}}},v=h;var m=a(1001),p=(0,m.Z)(v,n,o,!1,null,"b973f6ca",null);const f=p.exports;var b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-navigation-drawer",{staticClass:"drawer-menu",attrs:{floating:"",permanent:""}},[a("v-btn",{on:{click:function(e){t.drawer=!0},mouseover:function(e){t.drawer=!0}}},[a("span",[t._v("Menu   ")]),a("span",{staticClass:"material-symbols-outlined"},[t._v(" menu ")])])],1),t.drawer?a("v-overlay",{attrs:{value:"drawer","z-index":"1"},on:{click:function(e){t.drawer=!1},mouseover:function(e){t.drawer=!1}}}):t._e(),t.drawer?a("v-navigation-drawer",{attrs:{"z-index":"2","mini-variant":t.mini,floating:"",permanent:"",absolute:""},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}}},[t.authenticated?a("v-list-item",{attrs:{to:"/settings/"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Profile:")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.user.username))])],1)],1):a("v-list-item",{attrs:{to:"/welcome/"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Welcome!")]),a("v-list-item-subtitle",[t._v("Please login or create an account.")])],1)],1),a("v-divider"),a("v-list",{attrs:{dense:""}},[t._l(t.router_links,(function(e){return a("div",{key:e.id},[!e.no_auth&&!t.authenticated||t.authenticated?a("v-list-item",{attrs:{to:e.url,link:"",disabled:e.requires_authentication&&!t.authenticated}},[a("v-list-item-icon",[a("span",{staticClass:"material-symbols-outlined"},[t._v(" "+t._s(e.icon)+" ")])]),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))])],1)],1):t._e()],1)})),t.authenticated?a("v-list-item",{attrs:{to:"/logout/",link:""}},[a("v-list-item-icon",[a("span",{staticClass:"material-symbols-outlined"},[t._v(" logout ")])]),a("v-list-item-content",[a("v-list-item-title",[t._v("Logout")])],1)],1):t._e(),t.authenticated?t._e():a("v-list-item",{attrs:{to:"/login/",link:""}},[a("v-list-item-icon",[a("span",{staticClass:"material-symbols-outlined"},[t._v(" login ")])]),a("v-list-item-content",[a("v-list-item-title",[t._v("Login")])],1)],1),t.authenticated?t._e():a("v-list-item",{attrs:{to:"/registration/",link:""}},[a("v-list-item-icon",[a("span",{staticClass:"material-symbols-outlined"},[t._v(" manage_accounts ")])]),a("v-list-item-content",[a("v-list-item-title",[t._v("Registration")])],1)],1)],2)],1):t._e()],1)},_=[];const g={data(){return{drawer:!1,mini:!1,router_links:u}},computed:{user(){return this.$store.state.authorization.user},profile(){return this.$store.state.authorization.profile},authenticated(){return this.$store.getters.authenticated}}},k=g;var x=(0,m.Z)(k,b,_,!1,null,"39d76467",null);const w=x.exports;var $=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"app-logo":!0,"logo-theme-dark":this.$vuetify.theme.dark&&this.outline,"logo-theme-light":!this.$vuetify.theme.dark&&this.outline}},[a("a",{on:{click:t.link}},[a("div",[a("h4",[t._v("Alprou")]),a("v-divider")],1),a("p",[t._v("Minimalistic habits tracker.")])]),a("v-divider")],1)},y=[];const C={props:{url:{type:String,required:!1,default:"/"},outline:{type:Boolean,required:!1,defalut:!1}},methods:{link(){this.$router.push(this.url)}}},A=C;var T=(0,m.Z)(A,$,y,!1,null,"ca57b9ce",null);const P=T.exports,E={data(){return{}},components:{AppFooter:f,AppDrawer:w,AppLogo:P},computed:{loading(){return this.$store.state.authorization.loading}},async beforeCreate(){this.$store.dispatch("relogin"),this.$store.commit("loadTheme"),this.$vuetify.theme.dark=this.$store.state.theme.theme.dark}},S=E;var z=(0,m.Z)(S,r,s,!1,null,null,null);const Z=z.exports;var q=a(563);(0,q.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},H=[],O={},I=(0,m.Z)(O,D,H,!1,null,null,null);const j=I.exports;var L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t.url?a("HabitsContainer",{attrs:{url:t.url}}):t._e()],1)},N=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"habits-container"},[a("div",[a("p",[t._v(" API url: "),a("a",{attrs:{href:this.url}},[t._v(t._s(this.url))])])]),t.loaded?a("div",{staticClass:"d-flex flex-wrap"},[t._l(t.habits.filter((function(t){return!t.completed_today})),(function(t){return a("HabitComponent",{key:t.id,attrs:{url:t.url}})})),t._l(t.habits.filter((function(t){return t.completed_today})),(function(t){return a("HabitComponent",{key:t.id,attrs:{url:t.url}})})),a("NewHabitComponent")],2):a("div",{staticClass:"d-flex flex-wrap"},[a("v-skeleton-loader")],1)])},M=[],R=a(6166),G=a.n(R),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.removed?t._e():a("div",[a("v-sheet",{staticClass:"rounded-pill m-1",attrs:{elevation:"2",outlined:""}},[a("div",[a("v-btn",{attrs:{disabled:t.habit.completed_today,rounded:"",text:""},on:{click:function(e){return t.done()}}},[t._v(t._s(t.habit.name))]),a("v-btn",{attrs:{rounded:""},on:{click:function(e){t.expanded=!0}}},[a("div",{staticClass:"material-symbols-outlined"},[t._v("more_horiz")])])],1)]),t.expanded?a("div",[a("v-navigation-drawer",{staticClass:"habit-component-expanded",attrs:{right:"",permanent:"",absolute:""}},[a("v-card",[a("v-card-title",[t._v("Editing '"+t._s(t.habit.name)+"'")]),a("v-card-subtitle",[t._v("API url: "),a("a",{attrs:{href:t.habit.url}},[t._v(t._s(t.habit.url))])]),a("v-form",[a("v-card-text",[a("v-text-field",{attrs:{counter:200,label:"Name",autofocus:"",required:""},model:{value:t.habit.name,callback:function(e){t.$set(t.habit,"name",e)},expression:"habit.name"}}),a("v-textarea",{attrs:{counter:2e3,label:"Description",outlined:""},model:{value:t.habit.description,callback:function(e){t.$set(t.habit,"description",e)},expression:"habit.description"}}),a("v-text-field",{attrs:{counter:2e3,label:"Tags",dense:"",outlined:""},model:{value:t.habit.tags,callback:function(e){t.$set(t.habit,"tags",e)},expression:"habit.tags"}}),a("div",{staticClass:"settings-row"},[a("v-checkbox",{attrs:{label:"Active"},model:{value:t.habit.active,callback:function(e){t.$set(t.habit,"active",e)},expression:"habit.active"}}),a("v-checkbox",{attrs:{label:"Negative"},model:{value:t.habit.negative,callback:function(e){t.$set(t.habit,"negative",e)},expression:"habit.negative"}}),a("v-checkbox",{attrs:{label:"Private"},model:{value:t.habit.private,callback:function(e){t.$set(t.habit,"private",e)},expression:"habit.private"}})],1),a("p",[t._v("Created: "+t._s(t.habit.created))]),a("p",[t._v("Modified: "+t._s(t.habit.modified))])],1),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.patch()}}},[t._v("Save")]),a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.remove()}}},[t._v("Remove")]),a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){t.expanded=!1}}},[t._v("Back")])],1)],1)],1)],1),t.expanded?a("v-overlay",{attrs:{value:"expanded","z-index":"1"},on:{click:function(e){t.expanded=!1}}}):t._e()],1):t._e()],1),a("v-snackbar",{attrs:{timeout:"1500"},model:{value:t.message.show,callback:function(e){t.$set(t.message,"show",e)},expression:"message.show"}},[t._v(" "+t._s(t.message.text)+" "+t._s(t.habit.name)+" ")])],1)},F=[];const J={name:"HabitComponent",props:{url:{type:String,required:!0}},data(){return{habit:{user:"",name:"",description:"",completed_today:!1},expanded:!1,removed:!1,loading:!0,message:{show:!1,text:""}}},methods:{async done(){1!=this.habit.completed_today&&await G()({url:this.habit.url+"done/",method:"PATCH",data:{},headers:{Authorization:this.$store.getters.token_str}}).then((t=>{console.log(t),this.fetchData(),this.message={show:!0,text:"Completed"}})).catch((t=>{console.error(t)}))},async remove(){this.removed=!0,await G()({url:this.habit.url,method:"DELETE",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{console.log(t),this.message={show:!0,text:"Removed"}}))},async patch(){const t=this.habit;await G()({url:this.habit.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:t}).then((t=>{console.log(t),this.message={show:!0,text:"Saved"}})),this.expanded=!1,await this.fetchData()},async fetchData(){this.loading=!0,await G()({url:this.url,method:"GET",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{this.habit=t.data})),this.loading=!1,""==this.habit.tags&&(this.habit.tags="[]")}},mounted(){this.fetchData()}},W=J;var V=(0,m.Z)(W,B,F,!1,null,null,null);const X=V.exports;var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editing?a("div",[a("v-navigation-drawer",{staticClass:"habit-component-expanded",attrs:{right:"",permanent:"",absolute:""}},[a("v-card",[a("v-card-title",[t._v("Create new")]),a("v-card-text",[t.errors?a("v-alert",[t._v(t._s(t.errors))]):t._e(),a("v-text-field",{attrs:{counter:200,label:"Name",required:""},model:{value:t.habit.name,callback:function(e){t.$set(t.habit,"name",e)},expression:"habit.name"}}),a("v-text-field",{attrs:{counter:2e3,label:"description",outlined:""},model:{value:t.habit.description,callback:function(e){t.$set(t.habit,"description",e)},expression:"habit.description"}}),a("v-text-field",{attrs:{counter:2e3,label:"tags",outlined:""},model:{value:t.habit.tags,callback:function(e){t.$set(t.habit,"tags",e)},expression:"habit.tags"}}),a("v-checkbox",{attrs:{label:"Active"},model:{value:t.habit.active,callback:function(e){t.$set(t.habit,"active",e)},expression:"habit.active"}}),a("v-checkbox",{attrs:{label:"Negative"},model:{value:t.habit.negative,callback:function(e){t.$set(t.habit,"negative",e)},expression:"habit.negative"}}),a("v-checkbox",{attrs:{label:"Public"},model:{value:t.habit.public,callback:function(e){t.$set(t.habit,"public",e)},expression:"habit.public"}})],1),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.put()}}},[t._v("Create")]),a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.reset()}}},[t._v("Back")])],1)],1)],1),t.editing?a("v-overlay",{attrs:{value:"editing","z-index":"1"},on:{click:function(e){t.editing=!1}}}):t._e()],1):t._e(),a("v-sheet",{staticClass:"rounded-pill m-1",attrs:{elevation:"2",outlined:""}},[a("v-btn",{attrs:{rounded:"",text:""},on:{click:function(e){t.editing=!0}}},[a("span",{staticClass:"material-symbols-outlined"},[t._v(" add ")])])],1)],1)},K=[];const Q={name:"NewHabitComponent",data(){return{habit:{name:"",description:"",active:!0,negative:!1,public:!1,tags:""},errors:null,editing:!1}},methods:{async put(){const t=this.habit;await G()({url:l+"habits/",method:"POST",headers:{Authorization:this.$store.getters.token_str},data:t}).then((t=>{this.reset(),this.editing=!1,console.log(t)})).catch((t=>{console.log(t),this.errors=t.response.data}))},reset(){this.habit={name:"",description:"",active:!0,negative:!1,public:!1,tags:""},this.errors=null,this.editing=!1}}},tt=Q;var et=(0,m.Z)(tt,Y,K,!1,null,null,null);const at=et.exports,it={name:"HabitsContainer",components:{HabitComponent:X,NewHabitComponent:at},props:{url:{type:String,required:!0},label:{type:String,required:!1}},data(){return{habits:[],loaded:!1}},async mounted(){G()({url:this.url,method:"GET",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{this.habits=t.data.results,this.loaded=!0})).catch((t=>{console.error(t)}))}},rt=it;var st=(0,m.Z)(rt,U,M,!1,null,"60f03861",null);const nt=st.exports,ot={components:{HabitsContainer:nt},computed:{url(){const t=this.$store.state.authorization.user;if(t){const e=l+"habits/?user="+t.id+"&active=true";return e}return null}}},lt=ot;var ct=(0,m.Z)(lt,L,N,!1,null,null,null);const ut=ct.exports;var dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},ht=[];const vt={async mounted(){const t=this.$store.getters.authenticated;t?this.$router.push("/habits/"):this.$router.push("/welcome/")}},mt=vt;var pt=(0,m.Z)(mt,dt,ht,!1,null,null,null);const ft=pt.exports;var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300px",rounded:""}},[a("v-card-title",[t._v("Login")]),a("v-card-subtitle",[t._v("or register "),a("router-link",{attrs:{to:"/registration"}},[t._v("new profile")])],1),a("v-card-text",[a("v-text-field",{attrs:{id:"username",placeholder:"Username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{type:"password",id:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:"",text:"",action:"",method:""},on:{click:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[t._v(" Login ")])],1)],1)],1)],1)},_t=[];const gt={data(){return{username:"",password:"",remember:!1}},methods:{async login(){this.$store.dispatch("login",{username:this.username,password:this.password})}},mounted(){this.$store.getters.authenticated&&this.$router.push("/")}},kt=gt;var xt=(0,m.Z)(kt,bt,_t,!1,null,null,null);const wt=xt.exports;var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},yt=[];const Ct={mounted(){this.$store.dispatch("logout")}},At=Ct;var Tt=(0,m.Z)(At,$t,yt,!1,null,null,null);const Pt=Tt.exports;var Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500px",rounded:""}},[a("v-card-title",[t._v("Registration")]),a("v-card-subtitle",[t._v("Already have an account? "),a("router-link",{attrs:{to:"/registration"}},[t._v("Login")])],1),a("v-card-text",[a("form",{attrs:{action:""}},[a("v-text-field",{attrs:{id:"username",placeholder:"Username",dense:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{id:"email",placeholder:"Email",dense:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._l(t.errors.password,(function(e){return a("v-alert",{key:e,attrs:{dismissible:"",type:"error"}},[t._v(" "+t._s(e)+" ")])})),a("div",{staticClass:"settings-row d-flex"},[a("v-text-field",{attrs:{type:"password",id:"password",placeholder:"Password",dense:"",outlined:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{type:"password",id:"password",placeholder:"Repeat password",dense:"",outlined:""},model:{value:t.password_2,callback:function(e){t.password_2=e},expression:"password_2"}})],1),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:"",text:"",action:"",method:""},on:{click:function(e){return e.preventDefault(),t.registration()}}},[t._v(" Create an account ")])],1)],2)])],1)],1)},St=[];const zt={data(){return{username:"",password:"",password_2:"",email:"",errors:{password:[]}}},methods:{registration(){this.password==this.password_2||(this.errors.password=["Passwords do not match."])}},mounted(){this.$store.getters.authenticated&&this.$router.push("/")}},Zt=zt;var qt=(0,m.Z)(Zt,Et,St,!1,null,null,null);const Dt=qt.exports;var Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"settings"},[a("v-card",{staticClass:"settings-profile"},[a("ProfileEditor")],1),a("v-card",{staticClass:"settings-theme"},[a("ThemeEditor")],1)],1)])},Ot=[],It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card-title",[t._v("Profile")]),a("v-card-subtitle",[t._v("Change profile settings")]),a("v-card-text",[t.loading?a("v-skeleton-loader",{attrs:{type:"card"}}):a("div",[a("v-text-field",{attrs:{label:"Username",clearable:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),a("v-text-field",{attrs:{value:t.profile.url,label:"Profile url",clearable:"",disabled:""}}),a("v-text-field",{attrs:{label:"Public username",clearable:""},model:{value:t.profile.public_username,callback:function(e){t.$set(t.profile,"public_username",e)},expression:"profile.public_username"}}),a("v-checkbox",{attrs:{label:"Private profile"},model:{value:t.profile.private,callback:function(e){t.$set(t.profile,"private",e)},expression:"profile.private"}}),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:"",text:""},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1)},jt=[];const Lt={data(){return{profile:null,user:null,loading:!0,errors:[]}},methods:{async fetchData(){this.profile=this.$store.state.authorization.profile,this.user=this.$store.state.authorization.user,this.loading=!1},async save(){await G()({url:this.user.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:this.user}),await G()({url:this.profile.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:this.profile}),this.fetchData()}},beforeMount(){this.fetchData()}},Nt=Lt;var Ut=(0,m.Z)(Nt,It,jt,!1,null,null,null);const Mt=Ut.exports;var Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card-title",[t._v("Theme")]),a("v-card-subtitle",[t._v("Change UI settings")]),a("v-card-text",[a("div",[a("v-checkbox",{attrs:{label:"Dark"},model:{value:t.$store.state.theme.theme.dark,callback:function(e){t.$set(t.$store.state.theme.theme,"dark",e)},expression:"$store.state.theme.theme.dark"}}),a("v-checkbox",{attrs:{disabled:"",label:"Hide appbar"},model:{value:t.$store.state.theme.theme.hide_appbar,callback:function(e){t.$set(t.$store.state.theme.theme,"hide_appbar",e)},expression:"$store.state.theme.theme.hide_appbar"}}),a("v-checkbox",{attrs:{label:"Hide API links"},model:{value:t.$store.state.theme.theme.hide_api_links,callback:function(e){t.$set(t.$store.state.theme.theme,"hide_api_links",e)},expression:"$store.state.theme.theme.hide_api_links"}})],1)]),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",text:"",outlined:""},on:{click:function(e){return t.save_theme()}}},[t._v("Save")]),a("v-btn",{attrs:{rounded:"",text:"",outlined:""},on:{click:function(e){return t.reset_theme()}}},[t._v("Reset")])],1)],1)},Gt=[];const Bt={methods:{reset_theme(){this.$store.commit("resetTheme"),this.reload_required()},save_theme(){this.$store.commit("saveTheme"),this.reload_required()},load_theme(){this.$store.commit("loadTheme"),this.reload_required()},reload_required(){this.$vuetify.theme.dark=this.$store.state.theme.theme.dark}}},Ft=Bt;var Jt=(0,m.Z)(Ft,Rt,Gt,!1,null,"218345c6",null);const Wt=Jt.exports,Vt={components:{ThemeEditor:Wt,ProfileEditor:Mt},mounted(){const t=this.$store.state.authorization.user;t||this.$router.push("/welcome/"),this.url=l+"habits/?user="+t.id+"&active=true"}},Xt=Vt;var Yt=(0,m.Z)(Xt,Ht,Ot,!1,null,"50b3450d",null);const Kt=Yt.exports;var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"welcome"},[a("v-card",{staticClass:"welcome-info"},[a("v-card-title",[t._v("Welcome!")]),a("v-card-text",[a("p",[t._v(" To use this app, please "),a("router-link",{attrs:{to:"/login/"}},[t._v(" login")]),t._v(" or "),a("router-link",{attrs:{to:"/registration/"}},[t._v(" create an account")]),t._v(". ")],1),a("p"),a("p",[t._v(" You can also take a look at the source code on my "),a("a",{attrs:{href:"https://github.com/0djentd/"}},[t._v("github")]),t._v(". or learn more about "),a("router-link",{attrs:{to:"/about/#about-api"}},[t._v("Alprou's API")]),t._v(". ")],1)])],1),a("v-card",{staticClass:"welcome-features"},[a("v-card-title",[t._v(" Some of the features: ")]),a("v-card-text",t._l(t.features,(function(e){return a("v-sheet",{key:e.id},[a("h5",[t._v(t._s(e.title))]),a("p",[t._v(t._s(e.description))]),e.img?a("v-img",{attrs:{src:e.img}}):t._e()],1)})),1)],1)],1)])},te=[];const ee={data(){return{features:[{title:"Minimalistic UI",description:"Designed for mobile devices and desktop",img:null},{title:"Stats",description:"Take a look at various statistics.",img:null},{title:"User profiles",description:"Settings like habits/profile visibility to other users.",img:null},{title:"SPA",description:"No page reloads when using this app.",img:null},{title:"Themes",description:"Change some UI settings.",img:null}]}}},ae=ee;var ie=(0,m.Z)(ae,Qt,te,!1,null,"1e7048ac",null);const re=ie.exports;var se=a(2809);i["default"].use(se.Z);const ne=[{path:"/",name:"home",component:ft},{path:"/habits/",name:"habits",component:ut},{path:"/login/",name:"login",component:wt},{path:"/logout/",name:"logout",component:Pt},{path:"/registration/",name:"registration",component:Dt},{path:"/settings/",name:"settings",component:Kt},{path:"/about/",name:"about",component:j},{path:"/welcome/",name:"welcome",component:re}],oe=new se.Z({mode:"history",base:"/",routes:ne}),le=oe;var ce=a(4665);function ue(t){const e="Token "+t;return e}const de={state:{loading:!0,token:null,user:null,profile:null},mutations:{saveToken(t,e){t.token=e,localStorage.setItem("token",e)},saveUser(t,e){t.user=e},saveProfile(t,e){t.profile=e},saveLoading(t,e){t.loading=e}},getters:{authenticated(t){const e=Boolean(t.token&&t.user&&t.profile);return console.log("Checking authentication, result: "+e),e},token_str(t){return ue(t.token)}},actions:{async login({dispatch:t,commit:e},a){console.log("Trying to login as "+a.username);const i=await G()({url:l+"authtoken/",method:"POST",data:a}).then((t=>t.data.token)).catch((t=>(console.error(t),null)));if(null==i)return console.error("Login failed"),void e("saveToken",null);t("fetchData",i)},async relogin({commit:t,dispatch:e}){const a=localStorage.getItem("token");"null"!=a?e("fetchData",a):t("saveLoading",!1)},async logout({commit:t}){t("saveToken",null),t("saveUser",null),t("saveProfile",null),localStorage.setItem("token",null),window.location.href="/"},async fetchData({commit:t},e){t("saveToken",e);const a=await G()({url:l+"profiles/get_user_profile_id/",method:"GET",headers:{Authorization:ue(e)}}).then((t=>t.data.pk)).catch((t=>console.error(t))),i=await G()({url:l+"profiles/"+a+"/",method:"GET",headers:{Authorization:ue(e)}}).then((t=>t.data)).catch((t=>{console.error(t)}));t("saveProfile",i);const r=await G()({url:i.user,method:"GET",headers:{Authorization:ue(e)}}).then((t=>t.data)).catch((t=>{console.error(t)}));t("saveUser",r),t("saveLoading",!1)}}},he={state:{theme:c},mutations:{loadTheme(t){const e=JSON.parse(localStorage.getItem("settings-theme",c));e&&(t.theme=e)},saveTheme(t){const e=JSON.stringify(t.theme);console.log(e),localStorage.setItem("settings-theme",e)},resetTheme(t){const e=JSON.stringify(c);t.theme=e,localStorage.setItem("settings-theme",e)}}};i["default"].use(ce.ZP);const ve=new ce.ZP.Store({modules:{authorization:de,theme:he}});var me=a(8262),pe=a(3266),fe=(a(8837),a(44),a(8209)),be=a.n(fe);a(243);i["default"].use(be());const _e=new(be())({});a(9806);i["default"].use(me.XG7),i["default"].use(pe.A7),i["default"].config.productionTip=!1,new i["default"]({router:le,store:ve,vuetify:_e,render:t=>t(Z)}).$mount("#app")}},e={};function a(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,a),s.exports}a.m=t,(()=>{var t=[];a.O=(e,i,r,s)=>{if(!i){var n=1/0;for(u=0;u<t.length;u++){for(var[i,r,s]=t[u],o=!0,l=0;l<i.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((t=>a.O[t](i[l])))?i.splice(l--,1):(o=!1,s<n&&(n=s));if(o){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,r,s]}})(),(()=>{a.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return a.d(e,{a:e}),e}})(),(()=>{a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{a.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={143:0};a.O.j=e=>0===t[e];var e=(e,i)=>{var r,s,[n,o,l]=i,c=0;if(n.some((e=>0!==t[e]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var u=l(a)}for(e&&e(i);c<n.length;c++)s=n[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(u)},i=globalThis["webpackChunkAlprou"]=globalThis["webpackChunkAlprou"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i=a.O(void 0,[998],(()=>a(1907)));i=a.O(i)})();
//# sourceMappingURL=app.0cd5c989.js.map