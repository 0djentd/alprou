(()=>{"use strict";var t={6759:(t,e,a)=>{var i=a(8935),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[a("AppDrawer"),a("AppLogo"),a("v-main",{attrs:{app:""}},[t.loading?t._e():a("router-view")],1),a("AppFooter")],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticClass:"py-2 my-2"},[a("footer",{staticClass:"mx-auto"},[a("ul",{staticClass:"nav justify-content-center"},[t._l(t.router_links,(function(e){return a("li",{key:e.url,staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:e.url}},[t._v(" "+t._s(e.name)+" ")])],1)})),t.user?a("li",[a("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/logout/"}},[t._v(" Logout ")])],1):t._e(),t.user?t._e():a("li",[a("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/login/"}},[t._v(" Login ")])],1),t.user?t._e():a("li",[a("router-link",{staticClass:"nav-link px-2 text-muted",attrs:{to:"/registration/"}},[t._v(" Registration ")])],1),a("li",{staticClass:"nav-item"},[a("AppLanguageSwitcher")],1)],2),a("div",[this.$store.state.theme.theme.hide_api_links?t._e():a("v-divider"),this.$store.state.theme.theme.hide_api_links?t._e():a("ul",{staticClass:"nav justify-content-center"},t._l(t.api_links,(function(e){return a("li",{key:e.url,staticClass:"nav-item"},[a("a",{staticClass:"nav-link px-2 text-muted",attrs:{href:e.url}},[t._v(" "+t._s(e.name)+" ")])])})),0)],1),a("v-divider"),a("p",{staticClass:"text-center text-muted"},[t._v("© "+t._s(t.year)+" 0djentd")])],1)])},n=[];const l="/api/",u={dark:!0,hide_appbar:!0,hide_api_links:!1},c=[{requires_authentication:!1,no_auth:!0,url:"/",name:"Home",icon:"home"},{requires_authentication:!1,no_auth:!1,url:"/welcome/",name:"Welcome",icon:"help"},{requires_authentication:!0,no_auth:!1,url:"/habits/",name:"Habits",icon:"home"},{requires_authentication:!0,no_auth:!1,url:"/settings/",name:"Settings",icon:"settings"},{requires_authentication:!1,no_auth:!1,url:"/about/",name:"About",icon:"info"}],d=[{url:"https://github.com/0djentd/alprou",name:"Source code"},{url:"/docs/redoc/",name:"API docs (1)"},{url:"/docs/swagger/",name:"API docs (2)"},{url:"/api/habits/",name:"habits"},{url:"/api/profiles/",name:"profiles"},{url:"/api/users/",name:"users"},{url:"/api/days/",name:"days"}];var h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lang btn-group"},[t._m(0),a("ul",{staticClass:"dropdown-menu"},t._l(t.$i18n.availableLocales,(function(e){return a("li",{key:"locale-"+e,attrs:{value:e}},[a("a",{staticClass:"btn w-100",on:{click:function(a){return a.preventDefault(),t.switchLanguage(e)}}},[t._v(" "+t._s(e)+" ")])])})),0)])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-outline",attrs:{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[a("span",{staticClass:"material-symbols-outlined"},[t._v(" language ")])])}];const m={methods:{switchLanguage(t){this.$i18n.locale=t}}},p=m;var g=a(1001),b=(0,g.Z)(p,h,v,!1,null,"d960c744",null);const f=b.exports,_={data(){return{year:2022,router_links:c,api_links:d}},computed:{user(){return this.$store.state.authorization.user},profile(){return this.$store.state.authorization.profile}},components:{AppLanguageSwitcher:f}},k=_;var x=(0,g.Z)(k,o,n,!1,null,"2a790485",null);const $=x.exports;var w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-navigation-drawer",{staticClass:"drawer-menu",attrs:{floating:"",permanent:""}},[a("v-btn",{on:{click:function(e){t.drawer=!0},mouseover:function(e){t.drawer=!0}}},[a("span",[t._v("Menu   ")]),a("span",{staticClass:"material-symbols-outlined"},[t._v(" menu ")])])],1),t.drawer?a("v-overlay",{attrs:{value:"drawer","z-index":"1"},on:{click:function(e){t.drawer=!1},mouseover:function(e){t.drawer=!1}}}):t._e(),t.drawer?a("v-navigation-drawer",{attrs:{"z-index":"2","mini-variant":t.mini,floating:"",permanent:"",absolute:""},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}}},[t.authenticated?a("v-list-item",{attrs:{to:"/settings/"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Profile:")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.user.username))])],1)],1):a("v-list-item",{attrs:{to:"/welcome/"}},[a("v-list-item-content",[a("v-list-item-title",[t._v("Welcome!")]),a("v-list-item-subtitle",[t._v("Please login or create an account.")])],1)],1),a("v-divider"),a("v-list",{attrs:{dense:""}},[t._l(t.router_links,(function(e){return a("div",{key:e.id},[!e.no_auth&&!t.authenticated||t.authenticated?a("v-list-item",{attrs:{to:e.url,link:"",disabled:e.requires_authentication&&!t.authenticated}},[a("v-list-item-icon",[a("span",{staticClass:"material-symbols-outlined"},[t._v(" "+t._s(e.icon)+" ")])]),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))])],1)],1):t._e()],1)})),t.authenticated?a("v-list-item",{attrs:{to:"/logout/",link:""}},[a("v-list-item-icon",[a("span",{staticClass:"material-symbols-outlined"},[t._v(" logout ")])]),a("v-list-item-content",[a("v-list-item-title",[t._v("Logout")])],1)],1):t._e(),t.authenticated?t._e():a("v-list-item",{attrs:{to:"/login/",link:""}},[a("v-list-item-icon",[a("span",{staticClass:"material-symbols-outlined"},[t._v(" login ")])]),a("v-list-item-content",[a("v-list-item-title",[t._v("Login")])],1)],1),t.authenticated?t._e():a("v-list-item",{attrs:{to:"/registration/",link:""}},[a("v-list-item-icon",[a("span",{staticClass:"material-symbols-outlined"},[t._v(" manage_accounts ")])]),a("v-list-item-content",[a("v-list-item-title",[t._v("Registration")])],1)],1)],2)],1):t._e()],1)},y=[];const C={data(){return{drawer:!1,mini:!1,router_links:c}},computed:{user(){return this.$store.state.authorization.user},profile(){return this.$store.state.authorization.profile},authenticated(){return this.$store.getters.authenticated}}},A=C;var T=(0,g.Z)(A,w,y,!1,null,"39d76467",null);const E=T.exports;var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"app-logo":!0,"logo-theme-dark":this.$vuetify.theme.dark&&this.outline,"logo-theme-light":!this.$vuetify.theme.dark&&this.outline}},[a("a",{on:{click:t.link}},[a("div",[a("h4",[t._v("Alprou")]),a("v-divider")],1),a("p",[t._v(t._s(t.$t("logo.description_short")))])]),a("v-divider")],1)},S=[];const z={props:{url:{type:String,required:!1,default:"/"},outline:{type:Boolean,required:!1,defalut:!1}},methods:{link(){this.$router.push(this.url)}}},Z=z;var L=(0,g.Z)(Z,P,S,!1,null,"745313ad",null);const H=L.exports,D={data(){return{}},components:{AppFooter:$,AppDrawer:E,AppLogo:H},computed:{loading(){return this.$store.state.authorization.loading}},async beforeCreate(){this.$store.dispatch("relogin"),this.$store.commit("loadTheme"),this.$vuetify.theme.dark=this.$store.state.theme.theme.dark}},q=D;var O=(0,g.Z)(q,s,r,!1,null,null,null);const I=O.exports;var j=a(563);(0,j.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},U=[],M={},R=(0,g.Z)(M,N,U,!1,null,null,null);const F=R.exports;var G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t.url?a("HabitsContainer",{attrs:{url:t.url}}):t._e()],1)},B=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"habits-container"},[a("div",[a("p",[t._v(" API url: "),a("a",{attrs:{href:this.url}},[t._v(t._s(this.url))])])]),t.loaded?a("div",{staticClass:"d-flex flex-wrap"},[t._l(t.habits.filter((function(t){return!t.completed_today})),(function(t){return a("HabitComponent",{key:t.id,attrs:{url:t.url}})})),t._l(t.habits.filter((function(t){return t.completed_today})),(function(t){return a("HabitComponent",{key:t.id,attrs:{url:t.url}})})),a("NewHabitComponent")],2):a("div",{staticClass:"d-flex flex-wrap"},[a("v-skeleton-loader")],1)])},W=[],V=a(6166),X=a.n(V),Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.removed?t._e():a("div",[a("v-sheet",{staticClass:"rounded-pill m-1",attrs:{elevation:"2",outlined:""}},[a("div",[a("v-btn",{attrs:{disabled:t.habit.completed_today,rounded:"",text:""},on:{click:function(e){return t.done()}}},[t._v(t._s(t.habit.name))]),a("v-btn",{attrs:{rounded:""},on:{click:function(e){t.expanded=!0}}},[a("div",{staticClass:"material-symbols-outlined"},[t._v("more_horiz")])])],1)]),t.expanded?a("div",[a("v-navigation-drawer",{staticClass:"habit-component-expanded",attrs:{right:"",permanent:"",absolute:""}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("editor.editing"))+" '"+t._s(t.habit.name)+"'")]),a("v-card-subtitle",[t._v("API url: "),a("a",{attrs:{href:t.habit.url}},[t._v(t._s(t.habit.url))])]),a("v-form",[a("v-card-text",[a("v-text-field",{attrs:{counter:200,label:t.$t("editor.name"),autofocus:"",required:""},model:{value:t.habit.name,callback:function(e){t.$set(t.habit,"name",e)},expression:"habit.name"}}),a("v-textarea",{attrs:{counter:2e3,label:t.$t("editor.description"),outlined:""},model:{value:t.habit.description,callback:function(e){t.$set(t.habit,"description",e)},expression:"habit.description"}}),a("v-text-field",{attrs:{counter:2e3,label:t.$t("editor.tags"),dense:"",outlined:""},model:{value:t.habit.tags,callback:function(e){t.$set(t.habit,"tags",e)},expression:"habit.tags"}}),a("div",{staticClass:"settings-row"},[a("v-checkbox",{attrs:{label:t.$t("editor.active")},model:{value:t.habit.active,callback:function(e){t.$set(t.habit,"active",e)},expression:"habit.active"}}),a("v-checkbox",{attrs:{label:t.$t("editor.negative")},model:{value:t.habit.negative,callback:function(e){t.$set(t.habit,"negative",e)},expression:"habit.negative"}}),a("v-checkbox",{attrs:{label:t.$t("editor.private")},model:{value:t.habit.private,callback:function(e){t.$set(t.habit,"private",e)},expression:"habit.private"}})],1),a("p",[t._v(t._s(t.$t("editor.created"))+" "+t._s(t.habit.created))]),a("p",[t._v(t._s(t.$t("editor.modified"))+" "+t._s(t.habit.modified))])],1),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.patch()}}},[t._v(" "+t._s(t.$t("editor.patch"))+" ")]),a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.remove()}}},[t._v(" "+t._s(t.$t("editor.remove"))+" ")]),a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){t.expanded=!1}}},[t._v(" "+t._s(t.$t("editor.back"))+" ")])],1)],1)],1)],1),t.expanded?a("v-overlay",{staticClass:"habit-component-expanded-overlay",attrs:{value:"expanded","z-index":"0"},on:{click:function(e){t.expanded=!1}}}):t._e()],1):t._e()],1),a("v-snackbar",{attrs:{timeout:"1500"},model:{value:t.message.show,callback:function(e){t.$set(t.message,"show",e)},expression:"message.show"}},[t._v(" "+t._s(t.message.text)+" "+t._s(t.habit.name)+" ")])],1)},K=[];const Q={name:"HabitComponent",props:{url:{type:String,required:!0}},data(){return{habit:{user:"",name:"",description:"",completed_today:!1},expanded:!1,removed:!1,loading:!0,message:{show:!1,text:""}}},methods:{async done(){1!=this.habit.completed_today&&await X()({url:this.habit.url+"done/",method:"PATCH",data:{},headers:{Authorization:this.$store.getters.token_str}}).then((t=>{console.log(t),this.fetchData(),this.message={show:!0,text:"Completed"}})).catch((t=>{console.error(t)}))},async remove(){this.removed=!0,await X()({url:this.habit.url,method:"DELETE",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{console.log(t),this.message={show:!0,text:"Removed"}}))},async patch(){const t=this.habit;await X()({url:this.habit.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:t}).then((t=>{console.log(t),this.message={show:!0,text:"Saved"}})),this.expanded=!1,await this.fetchData()},async fetchData(){this.loading=!0,await X()({url:this.url,method:"GET",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{this.habit=t.data})),this.loading=!1,""==this.habit.tags&&(this.habit.tags="[]")}},mounted(){this.fetchData()}},tt=Q;var et=(0,g.Z)(tt,Y,K,!1,null,"47f89cb0",null);const at=et.exports;var it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.editing?a("div",[a("v-navigation-drawer",{staticClass:"habit-component-expanded",attrs:{right:"",permanent:"",absolute:""}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("editor.new")))]),a("v-card-text",[t.errors?a("v-alert",[t._v(t._s(t.errors))]):t._e(),a("v-text-field",{attrs:{counter:200,label:t.$t("editor.name"),autofocus:"",required:""},model:{value:t.habit.name,callback:function(e){t.$set(t.habit,"name",e)},expression:"habit.name"}}),a("v-textarea",{attrs:{counter:2e3,label:t.$t("editor.description"),outlined:""},model:{value:t.habit.description,callback:function(e){t.$set(t.habit,"description",e)},expression:"habit.description"}}),a("v-text-field",{attrs:{counter:2e3,label:t.$t("editor.tags"),dense:"",outlined:""},model:{value:t.habit.tags,callback:function(e){t.$set(t.habit,"tags",e)},expression:"habit.tags"}}),a("div",{staticClass:"settings-row"},[a("v-checkbox",{attrs:{label:t.$t("editor.active")},model:{value:t.habit.active,callback:function(e){t.$set(t.habit,"active",e)},expression:"habit.active"}}),a("v-checkbox",{attrs:{label:t.$t("editor.negative")},model:{value:t.habit.negative,callback:function(e){t.$set(t.habit,"negative",e)},expression:"habit.negative"}}),a("v-checkbox",{attrs:{label:t.$t("editor.private")},model:{value:t.habit.private,callback:function(e){t.$set(t.habit,"private",e)},expression:"habit.private"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.put()}}},[t._v(" "+t._s(t.$t("editor.create")))]),a("v-btn",{attrs:{rounded:"",outlined:""},on:{click:function(e){return t.reset()}}},[t._v(t._s(t.$t("editor.back")))])],1)],1)],1),t.editing?a("v-overlay",{attrs:{value:"editing","z-index":"1"},on:{click:function(e){t.editing=!1}}}):t._e()],1):t._e(),a("v-sheet",{staticClass:"rounded-pill m-1",attrs:{elevation:"2",outlined:""}},[a("v-btn",{attrs:{rounded:"",text:""},on:{click:function(e){t.editing=!0}}},[a("span",{staticClass:"material-symbols-outlined"},[t._v(" add ")])])],1)],1)},st=[];const rt={name:"NewHabitComponent",data(){return{habit:{name:"",description:"",active:!0,negative:!1,public:!1,tags:""},errors:null,editing:!1}},methods:{async put(){const t=this.habit;await X()({url:l+"habits/",method:"POST",headers:{Authorization:this.$store.getters.token_str},data:t}).then((t=>{this.reset(),this.editing=!1,console.log(t)})).catch((t=>{console.log(t),this.errors=t.response.data}))},reset(){this.habit={name:"",description:"",active:!0,negative:!1,public:!1,tags:""},this.errors=null,this.editing=!1}}},ot=rt;var nt=(0,g.Z)(ot,it,st,!1,null,"da37ab28",null);const lt=nt.exports,ut={name:"HabitsContainer",components:{HabitComponent:at,NewHabitComponent:lt},props:{url:{type:String,required:!0},label:{type:String,required:!1}},data(){return{habits:[],loaded:!1}},async mounted(){X()({url:this.url,method:"GET",headers:{Authorization:this.$store.getters.token_str}}).then((t=>{this.habits=t.data.results,this.loaded=!0})).catch((t=>{console.error(t)}))}},ct=ut;var dt=(0,g.Z)(ct,J,W,!1,null,"60f03861",null);const ht=dt.exports,vt={components:{HabitsContainer:ht},computed:{url(){const t=this.$store.state.authorization.user;if(t){const e=l+"habits/?user="+t.id+"&active=true";return e}return null}}},mt=vt;var pt=(0,g.Z)(mt,G,B,!1,null,null,null);const gt=pt.exports;var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},ft=[];const _t={async mounted(){const t=this.$store.getters.authenticated;t?this.$router.push("/habits/"):this.$router.push("/welcome/")}},kt=_t;var xt=(0,g.Z)(kt,bt,ft,!1,null,null,null);const $t=xt.exports;var wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300px",rounded:""}},[a("v-card-title",[t._v(t._s(t.$t("pages.login.text.title")))]),a("v-card-subtitle",[t._v(t._s(t.$t("pages.login.text.subtitle.1"))+" "),a("router-link",{attrs:{to:"/registration"}},[t._v(t._s(t.$t("pages.login.text.subtitle.2")))])],1),a("v-card-text",[a("form",{attrs:{action:"submit"},on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[a("v-text-field",{attrs:{id:"username",placeholder:t.$t("pages.login.text.form.username")},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{type:"password",id:"password",placeholder:t.$t("pages.login.text.form.password")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{attrs:{rounded:"",outlined:"",text:"",action:"",method:""},on:{click:t.login}},[t._v(" "+t._s(t.$t("pages.login.text.form.button"))+" ")])],1)])],1)],1)},yt=[];const Ct={data(){return{username:"",password:"",remember:!1}},methods:{async login(){this.$store.dispatch("login",{username:this.username,password:this.password})}},mounted(){this.$store.getters.authenticated&&this.$router.push("/")}},At=Ct;var Tt=(0,g.Z)(At,wt,yt,!1,null,null,null);const Et=Tt.exports;var Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},St=[];const zt={mounted(){this.$store.dispatch("logout")}},Zt=zt;var Lt=(0,g.Z)(Zt,Pt,St,!1,null,null,null);const Ht=Lt.exports;var Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500px",rounded:""}},[a("v-card-title",[t._v(t._s(t.$t("pages.registration.title")))]),a("v-card-subtitle",[t._v(t._s(t.$t("pages.registration.or.text"))),a("router-link",{attrs:{to:"/registration"}},[t._v(t._s(t.$t("pages.registration.or.link")))])],1),a("v-card-text",[a("form",{attrs:{action:""}},[a("v-text-field",{attrs:{id:"username",placeholder:t.$t("pages.registration.form.username"),dense:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{id:"email",placeholder:t.$t("pages.registration.form.email"),dense:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._l(t.errors.password,(function(e){return a("v-alert",{key:e,attrs:{dismissible:"",type:"error"}},[t._v(" "+t._s(e)+" ")])})),a("div",{staticClass:"settings-row d-flex"},[a("v-text-field",{attrs:{type:"password",id:"password",placeholder:t.$t("pages.registration.form.password_1"),dense:"",outlined:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-text-field",{attrs:{type:"password",id:"password",placeholder:t.$t("pages.registration.form.password_2"),dense:"",outlined:""},model:{value:t.password_2,callback:function(e){t.password_2=e},expression:"password_2"}})],1),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:"",text:"",action:"",method:""},on:{click:function(e){return e.preventDefault(),t.registration()}}},[t._v(" "+t._s(t.$t("pages.registration.form.button"))+" ")])],1)],2)])],1)],1)},qt=[];const Ot={data(){return{username:"",password:"",password_2:"",email:"",errors:{password:[]}}},methods:{registration(){this.password==this.password_2||(this.errors.password=["Passwords do not match."])}},mounted(){this.$store.getters.authenticated&&this.$router.push("/")}},It=Ot;var jt=(0,g.Z)(It,Dt,qt,!1,null,null,null);const Nt=jt.exports;var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"settings"},[a("v-card",{staticClass:"settings-profile"},[a("ProfileEditor")],1),a("v-card",{staticClass:"settings-theme"},[a("ThemeEditor")],1)],1)])},Mt=[],Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card-title",[t._v("Profile")]),a("v-card-subtitle",[t._v("Change profile settings")]),a("v-card-text",[t.loading?a("v-skeleton-loader",{attrs:{type:"card"}}):a("div",[a("v-text-field",{attrs:{label:"Username",clearable:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),a("v-text-field",{attrs:{value:t.profile.url,label:"Profile url",clearable:"",disabled:""}}),a("v-text-field",{attrs:{label:"Public username",clearable:""},model:{value:t.profile.public_username,callback:function(e){t.$set(t.profile,"public_username",e)},expression:"profile.public_username"}}),a("v-checkbox",{attrs:{label:"Private profile"},model:{value:t.profile.private,callback:function(e){t.$set(t.profile,"private",e)},expression:"profile.private"}}),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",outlined:"",text:""},on:{click:function(e){return t.save()}}},[t._v("Save")])],1)],1)],1)],1)},Ft=[];const Gt={data(){return{profile:null,user:null,loading:!0,errors:[]}},methods:{async fetchData(){this.profile=this.$store.state.authorization.profile,this.user=this.$store.state.authorization.user,this.loading=!1},async save(){await X()({url:this.user.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:this.user}),await X()({url:this.profile.url,method:"PATCH",headers:{Authorization:this.$store.getters.token_str},data:this.profile}),this.fetchData()}},beforeMount(){this.fetchData()}},Bt=Gt;var Jt=(0,g.Z)(Bt,Rt,Ft,!1,null,null,null);const Wt=Jt.exports;var Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card-title",[t._v("Theme")]),a("v-card-subtitle",[t._v("Change UI settings")]),a("v-card-text",[a("div",[a("v-checkbox",{attrs:{label:"Dark"},model:{value:t.$store.state.theme.theme.dark,callback:function(e){t.$set(t.$store.state.theme.theme,"dark",e)},expression:"$store.state.theme.theme.dark"}}),a("v-checkbox",{attrs:{disabled:"",label:"Hide appbar"},model:{value:t.$store.state.theme.theme.hide_appbar,callback:function(e){t.$set(t.$store.state.theme.theme,"hide_appbar",e)},expression:"$store.state.theme.theme.hide_appbar"}}),a("v-checkbox",{attrs:{label:"Hide API links"},model:{value:t.$store.state.theme.theme.hide_api_links,callback:function(e){t.$set(t.$store.state.theme.theme,"hide_api_links",e)},expression:"$store.state.theme.theme.hide_api_links"}})],1)]),a("v-card-actions",[a("v-btn",{attrs:{rounded:"",text:"",outlined:""},on:{click:function(e){return t.save_theme()}}},[t._v("Save")]),a("v-btn",{attrs:{rounded:"",text:"",outlined:""},on:{click:function(e){return t.reset_theme()}}},[t._v("Reset")])],1)],1)},Xt=[];const Yt={methods:{reset_theme(){this.$store.commit("resetTheme"),this.reload_required()},save_theme(){this.$store.commit("saveTheme"),this.reload_required()},load_theme(){this.$store.commit("loadTheme"),this.reload_required()},reload_required(){this.$vuetify.theme.dark=this.$store.state.theme.theme.dark}}},Kt=Yt;var Qt=(0,g.Z)(Kt,Vt,Xt,!1,null,"218345c6",null);const te=Qt.exports,ee={components:{ThemeEditor:te,ProfileEditor:Wt},mounted(){const t=this.$store.state.authorization.user;t||this.$router.push("/welcome/"),this.url=l+"habits/?user="+t.id+"&active=true"}},ae=ee;var ie=(0,g.Z)(ae,Ut,Mt,!1,null,"50b3450d",null);const se=ie.exports;var re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"welcome d-flex flex-wrap flex-lg-nowrap"},[a("div",{staticClass:"welcome-info"},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("pages.about.text.info.title")))]),a("v-card-text",[a("p",[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.1"))+" "),a("router-link",{attrs:{to:"/login/"}},[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.2")))]),t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.3"))+" "),a("router-link",{attrs:{to:"/registration/"}},[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.4"))+" ")])],1),a("p"),a("p",[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.5"))+" "),a("a",{attrs:{href:"https://github.com/0djentd/"}},[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.6"))+" ")]),t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.7"))+" "),a("router-link",{attrs:{to:"/about/#about-api"}},[t._v(" "+t._s(t.$t("pages.about.text.info.subtitle.8"))+" ")])],1)])],1)],1),a("div",{staticClass:"welcome-features"},[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("pages.about.text.features.title"))+" ")]),a("v-card-text",t._l(t.features,(function(e){return a("v-sheet",{key:e.id},[a("h5",[t._v(t._s(e.title))]),a("p",[t._v(t._s(e.description))]),e.img?a("v-img",{attrs:{src:e.img}}):t._e()],1)})),1)],1)],1),a("div",{staticClass:"welcome-screenshot"},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("pages.about.text.screenshots.title")))]),a("div",{staticClass:"screenshot-container"},[a("v-img",{staticClass:"screenshot",attrs:{src:"/screenshot_alprou.png"}})],1)],1)],1)])])},oe=[];const ne={data(){return{features:[{title:"Minimalistic UI",description:"Designed for mobile devices and desktop",img:null},{title:"Multiple languages",description:"App available in multiple languages.",img:null},{title:"Stats",description:"Take a look at various statistics.",img:null},{title:"User profiles",description:"Settings like habits/profile visibility to other users.",img:null},{title:"SPA",description:"No page reloads when using this app.",img:null},{title:"Themes",description:"Change some UI settings.",img:null}]}}},le=ne;var ue=(0,g.Z)(le,re,oe,!1,null,"5b3b0335",null);const ce=ue.exports;var de=a(2809);i["default"].use(de.Z);const he=[{path:"/",name:"home",component:$t},{path:"/habits/",name:"habits",component:gt},{path:"/login/",name:"login",component:Et},{path:"/logout/",name:"logout",component:Ht},{path:"/registration/",name:"registration",component:Nt},{path:"/settings/",name:"settings",component:se},{path:"/about/",name:"about",component:F},{path:"/welcome/",name:"welcome",component:ce}],ve=new de.Z({mode:"history",base:"/",routes:he}),me=ve;var pe=a(4665);function ge(t){return null==t||"null"==t?null:"Token "+t}const be={state:{loading:!0,token:null,user:null,profile:null},mutations:{saveToken(t,e){t.token=e,localStorage.setItem("token",e)},saveUser(t,e){t.user=e},saveProfile(t,e){t.profile=e},saveLoading(t,e){t.loading=e}},getters:{authenticated(t){const e=Boolean(t.token&&t.user&&t.profile);return console.log("Checking authentication, result: "+e),e},token_str(t){return ge(t.token)}},actions:{async login({dispatch:t,commit:e},a){let i=null;console.log("Trying to login as "+a.username);const s=await X()({url:l+"authtoken/",method:"POST",data:a}).then((t=>t.data.token)).catch((t=>(i=t,console.error(t),null)));if(null==s)return console.error("Login failed"),console.error(i),void e("saveToken",null);t("fetchData",s),window.location.href="/"},async relogin({commit:t,dispatch:e}){const a=localStorage.getItem("token");"null"!=a&&null!=a?e("fetchData",a):t("saveLoading",!1)},async logout({commit:t}){t("saveToken",null),t("saveUser",null),t("saveProfile",null),localStorage.setItem("token",null),window.location.href="/"},async fetchData({commit:t},e){t("saveToken",e),t("saveLoading",!0);const a=await X()({url:l+"profiles/get_user_profile_id/",method:"GET",headers:{Authorization:ge(e)}}).then((t=>t.data.pk)).catch((t=>console.error(t))),i=await X()({url:l+"profiles/"+a+"/",method:"GET",headers:{Authorization:ge(e)}}).then((t=>t.data)).catch((t=>{console.error(t)}));t("saveProfile",i);const s=await X()({url:i.user,method:"GET",headers:{Authorization:ge(e)}}).then((t=>t.data)).catch((t=>{console.error(t)}));t("saveUser",s),t("saveLoading",!1)}}},fe={state:{theme:u},mutations:{loadTheme(t){const e=JSON.parse(localStorage.getItem("settings-theme",u));e&&(t.theme=e)},saveTheme(t){const e=JSON.stringify(t.theme);console.log(e),localStorage.setItem("settings-theme",e)},resetTheme(t){const e=JSON.stringify(u);t.theme=e,localStorage.setItem("settings-theme",e)}}};i["default"].use(pe.ZP);const _e=new pe.ZP.Store({modules:{authorization:be,theme:fe}});var ke=a(8262),xe=a(3266),$e=(a(8837),a(44),a(8209)),we=a.n($e);a(243);i["default"].use(we());const ye=new(we())({});a(9806);var Ce=a(7345);const Ae={en:{logo:{description_short:"Minimalistic habits tracker."},editor:{editing:"Editing:",new:"Create new habit",name:"Name",description:"Description",tags:"Tags",active:"Active",negative:"Negative",private:"Private",created:"created:",modified:"modified:",create:"Save",patch:"Save",remove:"Remove",back:"back"},pages:{home:{title:"Home"},about:{title:"About",text:{info:{title:"Welcome!",subtitle:{1:"To use this app, please",2:"login",3:"or",4:"create an account.",5:"You can also take a look at the source code on my",6:"github,",7:"or learn more about",8:"Alprou's API."}},features:{title:"Features"},screenshots:{title:"Screenshots"}}},habits:{title:"Habits"},logout:{title:"Logout"},login:{title:"Login",text:{title:"Login",subtitle:{1:"or register",2:"new profile"},form:{username:"Username",password:"Password",button:"Login"}}},registration:{title:"Registration",or:{text:"Already have an account? ",link:"Login"},form:{username:"Username",email:"Email",password_1:"Password",password_2:"Repeat password",button:"Create an account"}}}},ru:{logo:{description_short:"Минималистичный трекер привычек."},editor:{editing:"Редактировать привычку:",new:"Создать новую привычку",name:"Название",description:"Описание",tags:"Тэги",active:"Показывать на главной странице",negative:"Отрицательная",private:"Не отображать для других пользователей",created:"создано:",modified:"изменено:",create:"Создать",patch:"Сохранить",remove:"Удалить",back:"Назад"},pages:{home:{title:"Главная"},about:{title:"Инфо",text:{info:{title:"Добро пожаловать!",subtitle:{1:"Чтобы использовать этот сайт/приложение, пожалуйста",2:"войди в уже существующий аккаунт",3:"или",4:"создайте новый.",5:"Вы также можете найти исходный код этого сайта на моем",6:"github,",7:"или посмотреть на",8:"документацию к API."}},features:{title:"Ключевой функционал"},screenshots:{title:"Скриншоты"}}},habits:{title:"Привычки"},logout:{title:"Выйти"},login:{title:"Войти",text:{title:"Войти",subtitle:{1:"или зарегистрировать",2:"новый аккаунт"},form:{username:"Имя пользователя",password:"Пароль",button:"Войти"}}},registration:{title:"Зарегистрироваться",or:{text:"Уже есть аккаунт? ",link:"Войти"},form:{username:"Имя пользователя",email:"Email",password_1:"Пароль",password_2:"Повторите пароль",button:"Создать аккаунт"}}}}};i["default"].use(ke.XG7),i["default"].use(xe.A7),i["default"].use(Ce.Z);const Te=new Ce.Z({locale:"ru",fallbackLocale:"en",messages:Ae});i["default"].config.productionTip=!1,new i["default"]({router:me,store:_e,i18n:Te,vuetify:ye,render:t=>t(I)}).$mount("#app")}},e={};function a(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,a),r.exports}a.m=t,(()=>{var t=[];a.O=(e,i,s,r)=>{if(!i){var o=1/0;for(c=0;c<t.length;c++){for(var[i,s,r]=t[c],n=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((t=>a.O[t](i[l])))?i.splice(l--,1):(n=!1,r<o&&(o=r));if(n){t.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[i,s,r]}})(),(()=>{a.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return a.d(e,{a:e}),e}})(),(()=>{a.d=(t,e)=>{for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{a.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{var t={143:0};a.O.j=e=>0===t[e];var e=(e,i)=>{var s,r,[o,n,l]=i,u=0;if(o.some((e=>0!==t[e]))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var c=l(a)}for(e&&e(i);u<o.length;u++)r=o[u],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},i=globalThis["webpackChunkAlprou"]=globalThis["webpackChunkAlprou"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var i=a.O(void 0,[998],(()=>a(6759)));i=a.O(i)})();
//# sourceMappingURL=app.0ebccf70.js.map